# ============================================================
# Environments
# ============================================================
@hostname = https://api.example.com
@dev_hostname = http://localhost:8080
@token = {{authToken}}
@userId = 12345

# To switch environments, comment/uncomment a line:
@baseUrl = {{hostname}}
# @baseUrl = {{dev_hostname}}

# ============================================================
# Authentication: Obtain JWT token
# ============================================================
### Get auth token (JWT)
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "username": "test_user",
  "password": "test_password"
}

# After executing this, capture the returned token manually
# or use REST Client's variable substitution if supported:
# @authToken = {{last_response.body.token}}

# ============================================================
# Users
# ============================================================
### Get all users
GET {{baseUrl}}/users
Accept: application/json
Authorization: Bearer {{token}}

### Get one user (parameterized)
GET {{baseUrl}}/users/{{userId}}
Accept: application/json
Authorization: Bearer {{token}}

### Create a new user
POST {{baseUrl}}/users
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "email": "newuser@example.com",
  "name": "New User",
  "role": "analyst"
}

### Update a user
PUT {{baseUrl}}/users/{{userId}}
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "email": "updated@example.com",
  "name": "Updated User",
  "role": "senior-analyst"
}

### Delete a user
DELETE {{baseUrl}}/users/{{userId}}
Authorization: Bearer {{token}}

# ============================================================
# Domain Example: Metrics
# ============================================================
### Retrieve system metrics
GET {{baseUrl}}/metrics/system
Accept: application/json
Authorization: Bearer {{token}}

### Submit analytics event
POST {{baseUrl}}/analytics/event
Content-Type: application/json
Authorization: Bearer {{token}}

{
  "eventType": "click",
  "timestamp": "{{timestamp}}",
  "metadata": {
    "element": "cta_button",
    "page": "dashboard"
  }
}

# ============================================================
# Health Check
# ============================================================
### Service health check
GET {{baseUrl}}/health
Accept: application/json
